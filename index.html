<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Namib Industrial - Professional Catalog</title>
    <style>
      /* --- 1. GLOBAL & THEME --- */
      :root {
        --brand-green: #008751;
        --brand-red: #ce1126;
        --brand-blue: #003580;
        --light-bg: #f4f4f4;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        background-color: var(--light-bg);
        color: #333;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      /* --- 2. HEADER & ANIMATED SUN --- */
      header {
        background-color: var(--brand-green);
        padding: 30px 20px;
        border-bottom: 5px solid var(--brand-red);
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        max-width: 900px;
        margin: 0 auto;
      }

      .logo-wrapper {
        width: 70px;
        height: 70px;
        background: white;
        border-radius: 50%;
        padding: 5px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        flex-shrink: 0;
      }

      .sun-logo {
        width: 100%;
        height: 100%;
        animation: rotateSun 15s linear infinite;
      }

      @keyframes rotateSun {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .header-text h1 {
        color: white;
        font-size: 1.8rem;
        margin: 0;
      }
      .header-text p {
        color: #e8f5e9;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* --- UPDATED FILTER SECTION --- */
      .filter-section {
        background: white;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border-bottom: 1px solid #eee;
      }

      /* The Toggle Button (Hidden on Desktop) */
      .filter-toggle {
        display: none;
        width: 100%;
        padding: 15px;
        background: white;
        border: none;
        font-weight: bold;
        color: var(--brand-green);
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        font-size: 1rem;
      }

      .filter-container {
        max-width: 1000px;
        margin: 0 auto;
        display: flex;
        padding: 15px;
        gap: 10px;
        transition: all 0.3s ease-in-out;
      }

      .date-group {
        display: flex;
        gap: 10px;
        flex: 1;
      }

      /* MOBILE SPECIFIC OVERRIDES */
      @media (max-width: 600px) {
        .filter-toggle {
          display: flex; /* Show toggle on mobile */
        }

        .filter-container {
          display: none; /* Hide controls by default */
          flex-direction: column;
          padding: 0 15px 15px 15px;
        }

        /* Class added via JS to show the menu */
        .filter-container.active {
          display: flex;
          animation: slideDown 0.3s ease-out;
        }
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* styling the inputs slightly smaller to save space */
      .search-input,
      .date-input {
        padding: 10px !important;
        font-size: 0.9rem !important;
      }
      /* Article Specifics */
      .article-card {
        border-top: 5px solid var(--brand-blue);
      }
      .article-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        cursor: pointer;
      }
      .article-body {
        padding: 20px;
        flex-grow: 1;
      }
      .article-date {
        font-size: 0.8rem;
        color: #888;
        font-weight: bold;
      }
      .article-excerpt {
        font-size: 0.95rem;
        color: #555;
        margin: 10px 0;
      }

      .btn-read-more {
        background: none;
        border: 2px solid var(--brand-blue);
        color: var(--brand-blue);
        padding: 8px 15px;
        border-radius: 5px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
        margin-top: 10px;
      }

      .btn-read-more:hover {
        background: var(--brand-blue);
        color: white;
      }

      .tag {
        display: inline-block;
        background: #f0f0f0;
        padding: 3px 8px;
        font-size: 0.7rem;
        border-radius: 4px;
        margin-right: 5px;
        color: #666;
      }

      /* --- 5. MODAL (READ MORE POPUP) --- */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none; /* Hidden by default */
        justify-content: center;
        align-items: center;
        z-index: 2000;
        padding: 20px;
      }

      .modal-content {
        background: white;
        width: 100%;
        max-width: 700px;
        max-height: 90vh;
        border-radius: 15px;
        overflow-y: auto;
        position: relative;
        padding: 30px;
      }

      .close-modal {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 2rem;
        cursor: pointer;
        color: #333;
      }

      .hidden {
        display: none !important;
      }

      /* --- 6. FOOTER --- */
      footer {
        background: #333;
        color: white;
        text-align: center;
        padding: 30px;
        margin-top: auto;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-content">
        <div class="logo-wrapper">
          <svg class="sun-logo" viewBox="0 0 100 100">
            <circle
              cx="50"
              cy="50"
              r="30"
              fill="none"
              stroke="#f39c12"
              stroke-width="8"
              stroke-dasharray="12 6"
            />
            <circle cx="50" cy="50" r="22" fill="#ffcc00" />
            <circle cx="50" cy="50" r="12" fill="#f39c12" />
          </svg>
        </div>
        <div class="header-text">
          <h1>Industry-Link-Namibia</h1>
          <p>Excellence in Engineering: News - Views - Products</p>
        </div>
      </div>
    </header>

    <div class="filter-section">
      <div class="filter-container">
        <input
          type="search"
          id="searchInput"
          class="search-input"
          placeholder="ðŸ” Search news & tools..."
          onkeyup="runSearch()"
        />
        <input
          type="date"
          id="dateStart"
          class="date-input"
          onchange="runSearch()"
        />
        <input
          type="date"
          id="dateEnd"
          class="date-input"
          onchange="runSearch()"
        />
      </div>
    </div>

    <div class="main-container">
      <h2 class="section-title">Industry Insights & Articles</h2>

      <div class="catalog-grid" id="mainGrid">
        <article
          class="searchable-item article-card"
          data-tags="solar, installation"
          data-date="2024-01-15"
        >
          <img
            src="https://images.unsplash.com/photo-1509391366360-fe5bb6058827?auto=format&fit=crop&w=600"
            class="article-img"
            alt="Solar"
          />
          <div class="article-body">
            <span class="article-date">Jan 15, 2024</span>
            <h3 class="item-title">
              Sustainable Solar Power in the Erongo Region
            </h3>
            <p class="article-excerpt">
              Our team recently completed one of the largest off-grid solar
              arrays in Western Namibia, providing power to over 50
              households...
            </p>
            <div class="hidden-full-content hidden">
              <p>
                The project involved 200 high-efficiency panels and a
                centralized battery storage system. By utilizing the intense
                Namibian sun, we've reduced carbon emissions by approximately 40
                tons per year. The local community has been trained to perform
                basic maintenance, ensuring long-term sustainability.
              </p>
              <br />
              <img
                src="https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?auto=format&fit=crop&w=600"
                style="width: 100%; border-radius: 10px"
              />
            </div>
            <div>
              <span class="tag">#Solar</span><span class="tag">#Namibia</span>
            </div>
            <button class="btn-read-more" onclick="openModal(this)">
              Read Full Article
            </button>
          </div>
        </article>

        <article
          class="searchable-item article-card"
          data-tags="tools, safety"
          data-date="2023-12-10"
        >
          <img
            src="https://images.unsplash.com/photo-1581092160607-ee22621dd758?auto=format&fit=crop&w=600"
            class="article-img"
            alt="Safety"
          />
          <div class="article-body">
            <span class="article-date">Dec 10, 2023</span>
            <h3 class="item-title">Top 5 Safety Protocols for Site Managers</h3>
            <p class="article-excerpt">
              Safety isn't just a policy; it's a culture. We break down the
              essential gear and checks for 2024...
            </p>
            <div class="hidden-full-content hidden">
              <p>
                Site safety in the industrial sector remains our top priority.
                1. Always check PPE integrity. 2. Ensure clear communication via
                high-vis signaling. 3. Regular tool calibration. 4. Hydration in
                the Namib heat. 5. Clear emergency exit routes. Following these
                simple steps reduces site accidents by 65%.
              </p>
            </div>
            <div>
              <span class="tag">#Safety</span
              ><span class="tag">#Industrial</span>
            </div>
            <button class="btn-read-more" onclick="openModal(this)">
              Read Full Article
            </button>
          </div>
        </article>
      </div>
    </div>

    <div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
      <div class="modal-content" onclick="event.stopPropagation()">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <div id="modalBody"></div>
      </div>
    </div>

    <footer>
      <p>&copy; 2026 Namib Industrial Supplies - Windhoek, Namibia</p>
    </footer>

    <script>
      // 1. SEARCH & DATE FILTER LOGIC
      function runSearch() {
        const query = document
          .getElementById("searchInput")
          .value.toLowerCase();
        const start = document.getElementById("dateStart").value;
        const end = document.getElementById("dateEnd").value;
        const items = document.getElementsByClassName("searchable-item");

        for (let item of items) {
          let text = item.innerText.toLowerCase();

          // We use a fallback empty string "" if data-tags doesn't exist on an item
          let tags = item.getAttribute("data-tags")
            ? item.getAttribute("data-tags").toLowerCase()
            : "";

          // Get the date attribute
          let dateAttr = item.getAttribute("data-date");
          let itemDate = dateAttr ? new Date(dateAttr) : null;

          let matchesText = text.includes(query) || tags.includes(query);

          // Date Range Logic
          let matchesStart = true;
          let matchesEnd = true;

          if (start || end) {
            if (!itemDate) {
              // If the user picks a date but the item (like a product) has no date, hide it
              matchesStart = false;
            } else {
              if (start) matchesStart = itemDate >= new Date(start);
              if (end) matchesEnd = itemDate <= new Date(end);
            }
          }

          if (matchesText && matchesStart && matchesEnd) {
            item.classList.remove("hidden");
          } else {
            item.classList.add("hidden");
          }
        }
      }

      // 2. MODAL LOGIC (READ MORE)
      function openModal(button) {
        const card = button.closest(".article-card");
        const title = card.querySelector(".item-title").innerText;
        const date = card.querySelector(".article-date").innerText;
        const imageSrc = card.querySelector(".article-img").src;
        const fullContent = card.querySelector(
          ".hidden-full-content",
        ).innerHTML;

        // Build the content inside the Modal
        document.getElementById("modalBody").innerHTML = `
      <img src="${imageSrc}" style="width:100%; height:300px; object-fit:cover; border-radius:10px; margin-bottom:20px;">
      <small style="color:var(--brand-green); font-weight:bold;">${date}</small>
      <h2 style="margin: 10px 0 20px 0;">${title}</h2>
      <div style="line-height:1.8; color:#444;">${fullContent}</div>
    `;

        document.getElementById("modalOverlay").style.display = "flex";
        document.body.style.overflow = "hidden"; // Prevent background scroll
      }

      function closeModal() {
        document.getElementById("modalOverlay").style.display = "none";
        document.body.style.overflow = "auto";
      }

      // 3. NEW: TOGGLE FILTER MENU (FOR MOBILE)
      function toggleFilter() {
        const controls = document.getElementById("filterControls");
        const icon = document.getElementById("toggle-icon");

        // This toggles the 'active' class we defined in the CSS
        controls.classList.toggle("active");

        // Change the arrow direction so the user knows if it's open or closed
        if (controls.classList.contains("active")) {
          icon.innerText = "â–²";
        } else {
          icon.innerText = "â–¼";
        }
      }
    </script>
  </body>
</html>
